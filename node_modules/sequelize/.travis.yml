<<<<<<< HEAD
=======
before_script:
  - "mysql -e 'create database sequelize_test;'"
  - "psql -c 'create database sequelize_test;' -U postgres"

script:
  - "make test"

notifications:
  hipchat:
    - 40e8850aaba9854ac4c9963bd33f8b@253477
  irc:
    - "chat.freenode.net#sequelizejs"

env:
  - DB=mysql DIALECT=mysql
  - DB=mysql DIALECT=postgres
  - DB=mysql DIALECT=postgres-native
  - DB=mysql DIALECT=sqlite
  - DB=mysql DIALECT=mariadb

>>>>>>> master
language: node_js

node_js:
  - "0.10"

<<<<<<< HEAD
sudo: false
=======
branches:
  only:
    - master
    - 1.7.0
>>>>>>> master

cache:
  directories:
    - node_modules

<<<<<<< HEAD
env:
  - DIALECT=mysql
  - DIALECT=postgres
  - DIALECT=postgres-native
  - DIALECT=sqlite

addons:
  postgresql: "9.4"

before_script:
  - "mysql -e 'create database sequelize_test;'"
  - "psql -c 'create database sequelize_test;' -U postgres"
  - "psql sequelize_test -c 'create extension postgis;' -U postgres"

script:
  - "if [ $COVERAGE ]; then npm run cover && bash <(curl -s https://codecov.io/bash) -f coverage/lcov.info; else npm run test; fi"

matrix:
  include:
    - node_js: "0.12"
      env: COVERAGE=true DIALECT=mysql
    - node_js: "0.12"
      env: COVERAGE=true DIALECT=postgres
    - node_js: "0.12"
      env: COVERAGE=true DIALECT=postgres-native
    - node_js: "0.12"
      env: COVERAGE=true DIALECT=sqlite

branches:
  only:
  - master
  - v3
=======
matrix:
  fast_finish: true

  include:
    - node_js: "0.10"
      env: COVERAGE=true

  allow_failures:
    - node_js: "0.10"
      env: COVERAGE=true
>>>>>>> master
